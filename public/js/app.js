(()=>{var e,t={80:()=>{var e=!1,t=(new Event("loading"),new Event("notloading"),OpenSeadragon({visibilityRatio:1,constrainDuringPan:!0,gestureSettingsMouse:{clickToZoom:!1,dblClickToZoom:!0},defaultZoomLevel:1,zoomInButton:"zoom-in",zoomOutButton:"zoom-out",homeButton:"home",timeout:1e5,showNavigationControl:!0,id:"openseadragon"})),n=new OpenSeadragon.Point;function o(){t.clearOverlays();var e=new XMLHttpRequest,n=sessionStorage.getItem("currentMap");sideOverlays=document.getElementById("sideOverlays"),sideOverlays.innerHTML=null,e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){var n=JSON.parse(e.responseText);for(elm in n)if(sessionStorage.getItem("currentMap")===n[elm].map_overlay_id){var o=new OpenSeadragon.Point;div=document.createElement("div"),div.id=n[elm].overlay_id,document.body.appendChild(div),span=document.createElement("span"),span.setAttribute("style","z-index:12;color:"+n[elm].color),span.innerHTML='<i class="'+n[elm].symbol+' customSym"><i class=" dot pulsate"></i></i>',span.setAttribute("id","renderer"+n[elm].overlay_id),div.appendChild(span),htmlx="<div id='parentModal"+n[elm].overlay_id+"' class='modal fade' tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true'>",htmlx+="  <div class='modal-dialog'>",htmlx+="   <div class='modal-content'>",htmlx+="     <div class='modal-header'>",htmlx+="      <h4 id='nameField' class='modal-title nameField'>"+n[elm].name+"</h4> ",htmlx+="       <button type='button' class='btn-close' data-bs-dismiss='modal' aria-label='Close'></button>",htmlx+="      </div>",htmlx+="     <div  class='modal-body'><img src="+n[elm].image+"  style='max-width: 100%; max-height: 100%' id='imageField' class='img-responsive'> <p class='col-md-12' id='noteField'>"+n[elm].note+"</p> </div>",htmlx+="     <div class='modal-footer'>",htmlx+="  <button type='button' class='btn btn-danger' onclick='deleteOverlay("+n[elm].overlay_id+")' data-bs-dismiss='modal'>Delete</button>",htmlx+="   </div></div> </div></div>",o.x=n[elm].x,o.y=n[elm].y,document.body.insertAdjacentHTML("beforeend",htmlx),t.addOverlay(div,o,OpenSeadragon.Placement.CENTER),span.setAttribute("onclick","renderOverlay("+n[elm].overlay_id+")"),a=document.createElement("a"),a.id="sideOver"+elm,div=document.createElement("div"),a.setAttribute("class","list-group-item list-group-item-action "),a.setAttribute("aria-current","true"),a.setAttribute("onclick","sideOverClicked("+a.id+',"'+n[elm].name+'","'+n[elm].image+'","'+n[elm].note+'","'+n[elm].color+'","'+n[elm].symbol+'","'+n[elm].map_overlay_id+'")'),div.setAttribute("class","d-flex w-100 justify-content-between"),div.innerHTML='<h5 class="mb-1">'+n[elm].name+"</h5>",div.innerHTML+='<small><i style="color:'+n[elm].color+'" onclick="renderOverlay('+n[elm].overlay_id+')" class="'+n[elm].symbol+'  customSym"></small>',a.appendChild(div),a.innerHTML+='<p class="mb-1">'+n[elm].note+"</p>",a.innerHTML+="<small>And some small print.</small>",sideOverlays.appendChild(a)}$(".pulsate").jPulse({color:"#FF1414",size:150,speed:600,interval:2e3,left:0,top:0,zIndex:1})}},e.open("get","api/retrive/"+n,!0),e.setRequestHeader("Accept","application/json"),e.send()}new OpenSeadragon.MouseTracker({element:t.canvas,clickHandler:function(a){console.log(a);var i=a.position,l=t.viewport.windowToViewportCoordinates(i);if(n.x=l.x,n.y=l.y,a.shift)if(!0===e){name=sessionStorage.getItem("name"),image=sessionStorage.getItem("image"),note=sessionStorage.getItem("note"),color=sessionStorage.getItem("over_color"),symbol=sessionStorage.getItem("over_symbol"),map_id=sessionStorage.getItem("map_id"),form=new FormData,form.append("note",note),form.append("name",name),form.append("symbol",symbol),form.append("color",color),form.append("x",n.x),form.append("y",n.y),form.append("map_id",map_id),form.append("image",image);var d=new XMLHttpRequest;d.onreadystatechange=function(){d.readyState==XMLHttpRequest.DONE&&(e=!1,o())},d.open("POST","api/save/existing",!0),d.send(form)}else $("#dataSend").modal("show")}}),jQuery(document).ready((function(){document.addEventListener("loading",(function(e){loader=document.createElement("div"),loader.classList.add("spinner"),loader.id="timewaster",img=document.createElement("img"),img.src="loader.gif",img.width=150,img.height=150,loader.appendChild(img),document.body.appendChild(loader)}),!1),document.addEventListener("notloading",(function(e){document.getElementById("timewaster").remove()}),!1);var e,a=function(e,a){return function(){loader=document.createElement("div"),loader.classList.add("spinner"),img=document.createElement("img"),img.src="loader.gif",img.width=150,img.height=150,loader.appendChild(img),document.body.appendChild(loader),loaded=!1,t.clearOverlays(),t.close(),t.open({type:"image",url:e}),t.world.addOnceHandler("add-item",(function(){sessionStorage.setItem("currentMap",a),o(),loader.remove()}))}};e=new XMLHttpRequest,ul=document.getElementById("mapsList"),e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&JSON.parse(e.responseText).forEach((function(e){li=document.createElement("li"),li.id="map"+e.id,li.innerHTML+='<a class="dropdown-item" href="#">'+e.name+"</a>",li.onclick=a(e.path,e.id),ul.appendChild(li)}))},e.open("get","api/retrive/maps",!0),e.setRequestHeader("Accept","application/json"),e.send()}))},662:()=>{}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,a,n,i)=>{if(!a){var l=1/0;for(m=0;m<e.length;m++){for(var[a,n,i]=e[m],d=!0,r=0;r<a.length;r++)(!1&i||l>=i)&&Object.keys(o.O).every((e=>o.O[e](a[r])))?a.splice(r--,1):(d=!1,i<l&&(l=i));if(d){e.splice(m--,1);var s=n();void 0!==s&&(t=s)}}return t}i=i||0;for(var m=e.length;m>0&&e[m-1][2]>i;m--)e[m]=e[m-1];e[m]=[a,n,i]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={773:0,170:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[l,d,r]=a,s=0;for(n in d)o.o(d,n)&&(o.m[n]=d[n]);if(r)var m=r(o);for(t&&t(a);s<l.length;s++)i=l[s],o.o(e,i)&&e[i]&&e[i][0](),e[l[s]]=0;return o.O(m)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),o.O(void 0,[170],(()=>o(80)));var i=o.O(void 0,[170],(()=>o(662)));i=o.O(i)})();